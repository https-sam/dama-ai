<div class="board">
  <div class="row" *ngFor="let row of board | async; let y = index">
    <app-piece *ngFor="let piece of row; let x = index"
               (click)="handleClick(piece, x, y)"
               [color]="piece?.color"
               [king]="piece?.king"
               [position]="piece?.position"
               [ngClass]="{'possibleMove': (x | isPossibleMovePipe : y : possiblePositions)}">
    </app-piece>
  </div>
</div>
